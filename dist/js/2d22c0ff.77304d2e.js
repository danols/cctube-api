(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d22c0ff"],{f241:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"lHh Lpr lFf"}},[n("q-header",{attrs:{elevated:""}},[n("q-toolbar",{staticClass:"bg-grey-10 text-white shadow-2"},[n("q-avatar",[n("img",{attrs:{src:"https://assets-v2.culturacolectiva.com/img/logotype.svg"}})]),n("q-space"),n("q-input",{staticClass:"q-ml-md",attrs:{dark:"",borderless:"","input-class":"text-right",debounce:"500",placeholder:"Buscar Canal",loading:e.isSearching},on:{input:function(t){return e.onSearchChannel()}},scopedSlots:e._u([{key:"append",fn:function(){return[""===e.queryText?n("q-icon",{attrs:{name:"search"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(t){return e.onCleanSearch()}}})]},proxy:!0}]),model:{value:e.queryText,callback:function(t){e.queryText=t},expression:"queryText"}})],1)],1),n("q-page-container",[n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col-10"},[e.isChannelSelected?n("q-page",{staticClass:"q-pa-md"},[n("div",{staticClass:"row q-mb-md"},[n("div",{staticClass:"col-6"},[n("q-input",{attrs:{"input-class":"text-left",placeholder:"Buscar Video",loading:e.isVideoSearching,debounce:"500"},on:{input:function(t){return e.onSearchVideo()}},scopedSlots:e._u([{key:"append",fn:function(){return[""===e.videoQueryText?n("q-icon",{attrs:{name:"search"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(t){return e.onCleanVideoSearch()}}})]},proxy:!0}]),model:{value:e.videoQueryText,callback:function(t){e.videoQueryText=t},expression:"videoQueryText"}})],1),n("div",{staticClass:"col-5 q-ml-md q-mt-md"},[n("q-toggle",{attrs:{label:"4 Columnas"},on:{input:function(t){return e.onChangeGrid()}},model:{value:e.isFourCols,callback:function(t){e.isFourCols=t},expression:"isFourCols"}})],1)]),n("div",{staticClass:"row q-col-gutter-md justify-center"},e._l(e.videos,(function(t){return n("div",{key:t.snippet.channelId,class:e.gridCols,staticStyle:{cursor:"pointer"},on:{click:function(n){return e.onShowVideo(t.id.videoId)}}},[n("q-card",{staticClass:"my-card"},[n("q-img",{attrs:{src:t.snippet.thumbnails.high.url,basic:""}},[n("div",{staticClass:"absolute-bottom text-h6"},[e._v("\n                    "+e._s(t.snippet.title)+"\n                  ")])]),n("q-card-section",[e._v("\n                  "+e._s(t.snippet.description)+"\n                ")])],1)],1)})),0),n("div",{staticClass:"row justify-center q-mt-md"},[n("q-btn-group",{attrs:{rounded:""}},[n("q-btn",{attrs:{color:"primary",disabled:null==e.prevPageToken,rounded:"",label:"Anterior",icon:"keyboard_arrow_left"},on:{click:function(t){return e.onChangePage(!1)}}}),n("q-btn",{attrs:{color:"primary",disabled:null==e.nextPageToken,rounded:"",label:"Siguiente","icon-right":"keyboard_arrow_right"},on:{click:function(t){return e.onChangePage(!0)}}})],1)],1)]):n("q-list",{attrs:{bordered:""}},e._l(e.channels,(function(t){return n("q-item",{key:t.snippet.channelId,attrs:{clickable:""},on:{click:function(n){return e.onSelectChannel(t.snippet.channelId)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",[n("img",{attrs:{src:t.snippet.thumbnails.default.url}})])],1),n("q-item-section",[e._v(e._s(t.snippet.channelTitle))])],1)})),1)],1)])]),n("q-ajax-bar",{ref:"bar",attrs:{position:"top",color:"accent",size:"9px","skip-hijack":""}}),n("q-dialog",{attrs:{"full-height":"","full-width":""},model:{value:e.videoModal,callback:function(t){e.videoModal=t},expression:"videoModal"}},[n("q-card",[n("q-card-section",{staticStyle:{height:"100%"}},[n("q-video",{staticStyle:{height:"100%"},attrs:{src:e.currentVideoURL}})],1)],1)],1)],1)},s=[],i=n("967e"),r=n.n(i),o=(n("96cf"),n("758b")),c={name:"MyLayout",mounted:function(){},data:function(){return{queryText:"",videoQueryText:"",isSearching:!1,isVideoSearching:!1,channels:[],videos:[],isChannelSelected:!1,channelId:null,gridCols:"col-lg-4 col-sm-1 col-md-1",isFourCols:!1,videoModal:!1,currentVideoURL:null,numOfPages:1,nextPageToken:null,prevPageToken:null}},methods:{onChangePage:function(e){return r.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return e||(this.nextPageToken=this.prevPageToken),this.triggerBar(),t.next=4,r.a.awrap(this.searchVideo());case 4:this.$refs.bar.stop();case 5:case"end":return t.stop()}}),null,this)},onShowVideo:function(e){this.currentVideoURL="https://www.youtube.com/embed/"+e,this.videoModal=!0},onChangeGrid:function(){this.isFourCols?this.gridCols="col-lg-3 col-sm-1 col-md-1":this.gridCols="col-lg-4 col-sm-1 col-md-1"},onSelectChannel:function(e){return r.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.isChannelSelected=!0,this.channelId=e,t.next=4,r.a.awrap(this.searchVideo());case 4:case"end":return t.stop()}}),null,this)},searchVideo:function(){var e;return r.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(o["a"].get("/channels/"+this.channelId+"/videos",{params:{query:this.videoQueryText,pageToken:this.nextPageToken}}));case 3:e=t.sent,this.videos=e.data.items,this.nextPageToken=e.data.nextPageToken,this.prevPageToken=e.data.prevPageToken,this.numOfPages=e.data.pageInfo.totalResults/e.data.pageInfo.resultsPerPage,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:return t.prev=13,this.isVideoSearching=!1,this.$refs.bar.stop(),t.finish(13);case 17:case"end":return t.stop()}}),null,this,[[0,10,13,17]])},searchChannel:function(){var e;return r.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(o["a"].get("/channels",{params:{query:this.queryText}}));case 3:e=t.sent,this.channels=e.data.items,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:return t.prev=10,this.isSearching=!1,this.$refs.bar.stop(),t.finish(10);case 14:case"end":return t.stop()}}),null,this,[[0,7,10,14]])},onSearchChannel:function(){return r.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.isChannelSelected=!1,this.isSearching=!0,this.triggerBar(),e.next=5,r.a.awrap(this.searchChannel());case 5:case"end":return e.stop()}}),null,this)},onSearchVideo:function(){return r.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.isVideoSearching=!0,this.triggerBar(),e.next=4,r.a.awrap(this.searchVideo());case 4:case"end":return e.stop()}}),null,this)},onCleanSearch:function(){this.isSearching=!1,this.queryText=""},onCleanVideoSearch:function(){this.isVideoSearching=!1,this.videoQueryText=""},triggerBar:function(){var e=this,t=this.$refs.bar;t.start(),this.timer=setTimeout((function(){e.$refs.bar&&e.$refs.bar.stop()}),3e3*Math.random()+1e3)}}},l=c,u=n("2877"),d=n("fe09"),h=Object(u["a"])(l,a,s,!1,null,null,null);t["default"]=h.exports;h.options.components=Object.assign({QLayout:d["n"],QHeader:d["h"],QToolbar:d["t"],QAvatar:d["b"],QSpace:d["r"],QInput:d["k"],QIcon:d["i"],QPageContainer:d["q"],QList:d["o"],QItem:d["l"],QItemSection:d["m"],QPage:d["p"],QToggle:d["s"],QCard:d["e"],QImg:d["j"],QCardSection:d["f"],QBtnGroup:d["d"],QBtn:d["c"],QAjaxBar:d["a"],QDialog:d["g"],QVideo:d["u"]},h.options.components||{})}}]);